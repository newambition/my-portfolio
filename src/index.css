/* Import Google Fonts (keep existing) */
@import url("https://fonts.googleapis.com/css2?family=Cal+Sans&family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");

/* Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* --- Color Variables --- */
  :root {
    /* Dark Theme (Default) */
    --color-bg-main-rgb: 0, 0, 0; /* Black */
    --color-card-bg-rgb: 40, 40, 40, 10%; /* #282828 */
    --color-nav-bg-rgb: 0, 0, 0, 90%; /* #282828 */
    --color-border-rgb: 48, 48, 48; /* #303030 */

    --color-section-bg-1-rgb: 0, 0, 0; /* Match main bg */
    --color-section-bg-2-rgb: 31, 31, 31; /* #1F1F1F */

    --color-terminal-bg-rgb: 0, 0, 0, 90%; /* #1F1F1F */
    --color-box-shadow-rgb: 100, 100, 100; /* #1F1F1F */
    --color-slider-bg-rgb: 100, 100, 100; /* Light grey #e0e0e0 */

    --color-text-primary-hsl: 0, 0%, 100%; /* White */
    --color-text-secondary-hsl: 0, 0%, 85%; /* Lighter grey */
    --color-text-muted-hsl: 0, 0%, 70%; /* Medium grey */
    --color-interactive-hsl: 0, 0%, 100%; /* White */
    --color-interactive-accent-hsl: 300, 67%, 50%; /* Adjusted Fuchsia for better contrast potentially */

    --opacity-section-bg-1: 0.4;
    --opacity-section-bg-2: 0.4;

    /* Transition for smooth theme changes */
    --theme-transition-duration: 0.3s;
  }

  .light-theme {
    /* Light Theme */
    --color-bg-main-rgb: 255, 255, 255; /* White */
    --color-card-bg-rgb: 245, 245, 245, 10%; /* Off-white #f5f5f5 */
    --color-nav-bg-rgb: 255, 255, 255, 85%; /* Off-white #f5f5f5 */
    --color-border-rgb: 224, 224, 224; /* Light grey #e0e0e0 */
    --color-section-bg-1-rgb: 255, 255, 255; /* Match main bg */
    --color-section-bg-2-rgb: 240, 240, 240; /* Lighter grey #f0f0f0 */

    --color-slider-bg-rgb: 225, 225, 225; /* Light grey #e0e0e0 */
    --color-terminal-bg-rgb: 255, 255, 255, 90%; /* Off-white #f5f5f5 */
    --color-box-shadow-rgb: 50, 50, 50; /* #1F1F1F */

    --color-text-primary-hsl: 0, 0%, 15%; /* Dark grey */
    --color-text-secondary-hsl: 0, 0%, 30%; /* Medium Dark grey */
    --color-text-muted-hsl: 0, 0%, 45%; /* Lighter Dark grey */
    --color-interactive-hsl: 0, 0%, 5%; /* Near Black */
     /* Keep accent same or change? Let's keep it */
    --color-interactive-accent-hsl: 300, 67%, 50%; /* Fuchsia */


    /* Opacity can remain the same, backgrounds just become lighter */
    --opacity-section-bg-1: 0.4;
    --opacity-section-bg-2: 0.4; /* Slightly less transparent light section? Adjust as needed */
  }
  /* --- End Color Variables --- */

  /* Apply base styles & transitions */
  body {
    @apply bg-bg-main text-text-primary; /* Use new Tailwind color names */
    transition: background-color var(--theme-transition-duration) ease-in-out, color var(--theme-transition-duration) ease-in-out;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Apply transition to all elements for smoother theme changes */
  *, ::before, ::after {
    transition: background-color var(--theme-transition-duration) ease-in-out, color var(--theme-transition-duration) ease-in-out, border-color var(--theme-transition-duration) ease-in-out;
  }

  /* Keep existing base styles */
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading font-bold tracking-tight text-text-primary; /* Updated text color */
    line-height: 1.1;
  }
  h1 { @apply font-display text-5xl md:text-7xl; }
  h2 { @apply text-4xl md:text-6xl font-semibold; }
  h3 { @apply text-2xl md:text-3xl font-semibold; }
  h4 { @apply text-xl md:text-2xl font-semibold; }

  html {
    scroll-behavior: smooth;
  }

  html, :host {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
}

/* Custom component utilities (Update colors) */
@layer components {
  .section-title {
    @apply text-center mb-16 md:mb-24;
    @apply font-display text-5xl md:text-6xl lg:text-7xl font-semibold tracking-tight text-text-primary; /* Updated text color */
  }

  .card-hover {
     @apply transition-all duration-300 ease-out border border-border-color; /* Use border-color var */
  }
  .card-hover:hover {
       /* Use interactive color for border on hover */
      @apply border-interactive scale-[1.02] shadow-xl shadow-black/10;
  }

  /* ADD NEW CLASS FOR CONTENT FADE */
  .content-wrapper {
    /* Updated pixel-based gradient */
    -webkit-mask-image: linear-gradient(to bottom, transparent 64px, black 84px);
    mask-image: linear-gradient(to bottom, transparent 64px, black 84px);
  }
}

/* Custom utilities (Unchanged) */
@layer utilities {
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}
/* --- Custom Range Slider Styles (Centered Thumb) --- */
input[type="range"] {
  width: 100%;
  background: transparent;
  appearance: none;
  height: 2.25rem;
  margin: 0;
  padding: 0;
  vertical-align: middle;
  position: relative;
  outline: none;
}
input[type="range"]:focus {
  outline: none;
}
input[type="range"]::-webkit-slider-runnable-track {
  height: 0.5rem;
  border-radius: 0.5rem;
  background: rgb(var(--color-slider-bg-rgb));
}
input[type="range"]::-webkit-slider-thumb {
  appearance: none;
  width: 1.25rem;
  height: 1.25rem;
  border-radius: 50%;
  background: hsl(var(--color-interactive-accent-hsl));
  box-shadow: 0 0 0 2px rgba(0,0,0,0.08);
  cursor: pointer;
  border: none;
  transition: background 0.2s;
  margin-top: -0.375rem;
}
input[type="range"]:focus::-webkit-slider-thumb {
  box-shadow: 0 0 0 3px hsl(var(--color-interactive-accent-hsl), 0.3);
}
input[type="range"]::-moz-range-track {
  height: 0.5rem;
  border-radius: 0.5rem;
  background: rgb(var(--color-slider-bg-rgb));
}
input[type="range"]::-moz-range-thumb {
  width: 1.25rem;
  height: 1.25rem;
  border-radius: 50%;
  background: hsl(var(--color-interactive-accent-hsl));
  border: none;
  cursor: pointer;
  transition: background 0.2s;
}
input[type="range"]:focus::-moz-range-thumb {
  box-shadow: 0 0 0 3px hsl(var(--color-interactive-accent-hsl), 0.3);
}
input[type="range"]::-ms-fill-lower,
input[type="range"]::-ms-fill-upper {
  background: rgb(var(--color-slider-bg-rgb));
  border-radius: 0.5rem;
}
input[type="range"]::-ms-thumb {
  width: 1.25rem;
  height: 1.25rem;
  border-radius: 50%;
  background: hsl(var(--color-interactive-accent-hsl));
  border: none;
  cursor: pointer;
  transition: background 0.2s;
}
input[type="range"]:focus::-ms-thumb {
  box-shadow: 0 0 0 3px hsl(var(--color-interactive-accent-hsl), 0.3);
}
input[type="range"]::-ms-tooltip {
  display: none;
}

/* --- Custom Radio Button Container Fix --- */
.particle-radio-group {
  display: flex;
  justify-content: space-around;
  align-items: center;
  gap: 0.5rem;
  width: 100%;
}
.particle-radio-label {
  display: flex;
  align-items: center;
  padding-right: 0.5rem;
}
.particle-radio-input {
  min-width: 1rem;
  min-height: 1rem;
  margin-right: 0.25rem;
}
